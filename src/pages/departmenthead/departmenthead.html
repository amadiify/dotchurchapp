<ion-header id="header">
    <ion-navbar>
        <ion-list>
            <ion-item no-border style="background:none;">
                
                <ion-title>
                    <span style="color:#fff; font-size:16px !important">Budget Head</span>
                </ion-title>

                <ion-avatar item-end>
                    <img [src]="avatar">
                </ion-avatar>
            </ion-item>
        </ion-list>

    </ion-navbar>

</ion-header>

<style>
    .item-block {
        height: 40px;
        min-height: 51px !important;
    }
    
    .card-md {
        margin-bottom: 0px;
        margin-top: 0px;
    }
    
    .item-md.item-input.ng-valid.item-input-has-value:not(.input-has-focus):not(.item-input-has-focus) .item-inner,
    .item-md.item-input.ng-valid.input-has-value:not(.input-has-focus):not(.item-input-has-focus) .item-inner {
        border-bottom-color: #fff !important;
        box-shadow: inset 0 0px 0 0 #fff !important;
    }
</style>

<ion-content no-padding id="app">

    <ion-card no-padding>
        <ion-list style="border:none; margin-top:40px;">
            <ion-item style="border:none;">
                <ion-label style="color:#fff">Choose a Department</ion-label>
                <ion-select [(ngModel)]="budget.department" style="border:2px solid #fff;
                height:45px; width:150px; color:#fff;" placeholder="Select" data-at="fda">
                    <ion-option *ngFor="let dep of departments" value="{{dep.department}}">{{dep.department}}</ion-option>
                </ion-select>
            </ion-item>

        </ion-list>
    </ion-card>

    <ion-card>
        <ion-item style="border:none; ">
            <ion-label style="color:#fff">Amount</ion-label>
            <ion-input type="text" placeholder="£0.00" style="border:2px solid #fff; height:40px; " onfocus="this.value = ''" [(ngModel)]="budget.amount" [ngModelOptions]="{standalone: true}" data-at="fda"></ion-input>
        </ion-item>
    </ion-card>

    <ion-card>


        <ion-item style="padding-bottom:6px; border:none">

            <button ion-button block (click)="allocate()" color="danger" padding style="margin-left: -3%;">
              <ion-icon name="card"></ion-icon> &nbsp; Allocate Budget
            </button>

        </ion-item>

    </ion-card>


    <ion-card>
        <table *ngIf="budgetsnotempty">
            <tr>
                <th>Department</th>
                <th>Budget</th>
                <th>Spent</th>
                <th>Balance</th>
            </tr>

            <tr *ngFor="let bd of budgets">
                <td>{{bd.department}}</td>
                <td>£{{bd.allocated}}</td>
                <td>£{{bd.withdrawned}}</td>
                <td>£{{minus(bd.allocated,bd.withdrawned)}}</td>
            </tr>
        </table>
    </ion-card>

</ion-content>


<ion-footer>
    <ion-navbar no-padding>
        <ion-grid style="background: transparent; color:#fff;">
            <ion-row>
                <ion-col *ngFor="let foot of footer" class="col col-{{foot.col}} text-{{foot.cstyle}} {{foot.cclass}}">
                    <button icon-only ion-button clear color="dark" (click)="footerCtrl.navigate(foot.clickA)">
                  <ion-icon name="{{foot.iconName}}" style="color:#fff"></ion-icon>
              </button>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-navbar>
</ion-footer>